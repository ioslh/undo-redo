{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?4199","webpack:///./src/components/Controller.vue?8997","webpack:///./src/App.vue?b95a","webpack:///./src/components/Controller.vue?1a4a","webpack:///./src/components/utils.js","webpack:///src/components/Controller.vue","webpack:///./src/components/Controller.vue?476e","webpack:///./src/components/Controller.vue","webpack:///./src/components/History.vue?8ad4","webpack:///src/components/History.vue","webpack:///./src/components/History.vue?8ec0","webpack:///./src/components/History.vue","webpack:///./src/components/Info.vue?c2e9","webpack:///src/components/Info.vue","webpack:///./src/components/Info.vue?fe40","webpack:///./src/components/Info.vue","webpack:///./src/components/History.js","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/components/History.vue?1475","webpack:///./src/components/Info.vue?09df"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Controller_vue_vue_type_style_index_0_id_1a42136c_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Controller_vue_vue_type_style_index_0_id_1a42136c_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","Appvue_type_template_id_1095f790_render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","rect","on","transformed","onTransformed","record","history","command","execute","cursor","moveCursor","_m","staticRenderFns","_v","href","target","Controllervue_type_template_id_1a42136c_scoped_true_render","style","mousedown","$event","stopPropagation","onMouseDown","_l","handler","class","split","_e","Controllervue_type_template_id_1a42136c_scoped_true_staticRenderFns","roughlyToPlain","obj","JSON","parse","stringify","handlers","Controllervue_type_script_lang_js_","props","adjustType","isAdjusting","fixedRatio","bodyCursor","watch","document","body","computed","bounds","rotateResize_umd","showRotateGuide","rotateGuideStyle","_this$bounds","center","lt","rb","x","y","w","left","concat","top","width","height","showResizeGuide","resizeGuideStyle","p0","p1","e","_ref","_ref2","rt","lb","_ref3","cb","ct","_ref4","lm","rm","transform","internalStyle","_this$rect","h","animation","showHandlers","methods","computeMousePosition","pageX","pageY","type","metaKey","mouseStart","rectStart","shiftKey","addEventListener","onMouseMove","onMouseUp","_this","mouseEnd","_map","map","Math","abs","_map2","slicedToArray","setDocumentCursor","rectEnd","rotateResize_umd_default","$emit","removeEventListener","point","tolerate","arguments","undefined","vector","degrees","toleratance","preventDrag","preventDefault","mounted","beforeDestroy","components_Controllervue_type_script_lang_js_","component","componentNormalizer","options","__file","Controller","Historyvue_type_template_id_0bfb47b6_scoped_true_render","valid","canUndo","click","canRedo","canClear","displaySnapshots","tag","item","snapshot","uuid","current","index","_s","_f","toUpperCase","Historyvue_type_template_id_0bfb47b6_scoped_true_staticRenderFns","Historyvue_type_script_lang_js_","snapshots","reverse","keys","cmd","components_Historyvue_type_script_lang_js_","History_component","components_History","Infovue_type_template_id_29fc4e25_scoped_true_render","field","domProps","change","onValueChange","input","Infovue_type_template_id_29fc4e25_scoped_true_staticRenderFns","Infovue_type_script_lang_js_","displayKeys","rest","objectWithoutProperties","Number","$nextTick","components_Infovue_type_script_lang_js_","Info_component","Info","fakeUUID","Date","random","History_History","History","maxSnapshots","classCallCheck","checkRepeat","pop","prev","next","es6_typeof","diffFound","find","k","src_components_History","Appvue_type_script_lang_js_","components","forEach","undo","redo","clear","move","src_Appvue_type_script_lang_js_","App_component","App","vue_runtime_esm","config","productionTip","filter","str","String","includes","toFixed","parseInt","render","$mount","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_History_vue_vue_type_style_index_0_id_0bfb47b6_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_History_vue_vue_type_style_index_0_id_0bfb47b6_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Info_vue_vue_type_style_index_0_id_29fc4e25_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Info_vue_vue_type_style_index_0_id_29fc4e25_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/app.b37b889a.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/undo-redo/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controller.vue?vue&type=style&index=0&id=1a42136c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controller.vue?vue&type=style&index=0&id=1a42136c&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('Controller',{attrs:{\"rect\":_vm.rect},on:{\"transformed\":_vm.onTransformed,\"record\":_vm.record}}),_c('div',{staticClass:\"side-panel absolute\"},[_c('Info',{attrs:{\"rect\":_vm.rect},on:{\"transformed\":_vm.onTransformed,\"record\":_vm.record}}),_c('History',{attrs:{\"history\":_vm.history},on:{\"command\":_vm.execute,\"cursor\":_vm.moveCursor}})],1),_vm._m(0)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ctrl-guide\"},[_c('p',[_vm._v(\"Mousedown any control points to resize or rotate.\")]),_c('p',[_vm._v(\"To resize with fixed ratio, hold \"),_c('kbd',[_vm._v(\"Shift\")]),_vm._v(\" key.\")]),_c('p',[_c('a',{attrs:{\"href\":\"https://github.com/ioslh/undo-redo\",\"target\":\"_blank\"}},[_vm._v(\"https://github.com/ioslh/undo-redo\")])])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"controller\"},[_c('div',{staticClass:\"absolute internal\",style:(_vm.internalStyle),on:{\"mousedown\":function($event){$event.stopPropagation();_vm.onMouseDown($event, 'move')}}},[(_vm.showHandlers)?_vm._l((_vm.handlers),function(handler){return _c('i',{key:handler,staticClass:\"handler absolute\",class:handler === 'rotate' ? handler : handler.split(''),on:{\"mousedown\":function($event){$event.stopPropagation();_vm.onMouseDown($event, handler)}}})}):_vm._e()],2),_c('div',{staticClass:\"absolute external\"}),(_vm.showResizeGuide)?_c('div',{staticClass:\"absolute resize-guide\",style:(_vm.resizeGuideStyle)}):_vm._e(),(_vm.showRotateGuide)?_c('div',{staticClass:\"absolute rotate-guide\",style:(_vm.rotateGuideStyle)}):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const roughlyToPlain = obj => JSON.parse(JSON.stringify(obj))\n","<template>\n  <div class=\"controller\">\n  <div class=\"absolute internal\" :style=\"internalStyle\" @mousedown.stop=\"onMouseDown($event, 'move')\">\n    <template v-if=\"showHandlers\">\n    <i \n      v-for=\"handler in handlers\"\n      :key=\"handler\"\n      class=\"handler absolute\"\n      :class=\"handler === 'rotate' ? handler : handler.split('')\"\n      @mousedown.stop=\"onMouseDown($event, handler)\"\n    ></i>\n    </template>\n  </div>\n  <div class=\"absolute external\"></div>\n  <div\n    class=\"absolute resize-guide\"\n    v-if=\"showResizeGuide\"\n    :style=\"resizeGuideStyle\"\n  ></div>\n  <div\n    class=\"absolute rotate-guide\"\n    v-if=\"showRotateGuide\"\n    :style=\"rotateGuideStyle\"\n  ></div>\n  </div>\n</template>\n\n<script>\nimport { roughlyToPlain } from './utils'\nimport rotateResize, {\n  angleDegrees,\n  lineDegrees,\n  computeEndPoints,\n  pointsDistance,\n  centerPoint\n} from 'rotate-resize'\n\nconst handlers = [\n  'rotate',\n  'lt',\n  'ct',\n  'rt',\n  'lm',\n  'rm',\n  'lb',\n  'cb',\n  'rb'\n]\n\nexport default {\n  props: {\n    rect: Object\n  },\n\n  data() {\n    return {\n      handlers,\n      adjustType: null,\n      isAdjusting: false,\n      fixedRatio: false,\n      bodyCursor: 'auto'\n    }\n  },\n  watch: {\n    bodyCursor() {\n      document.body.style.cursor = this.bodyCursor\n    },\n  },\n\n  computed: {\n    bounds() {\n      return computeEndPoints(this.rect)\n    },\n\n    showRotateGuide() {\n      return this.adjustType === 'rotate'\n    },\n\n    rotateGuideStyle() {\n      if (!this.showRotateGuide) {\n        return {}\n      }\n      const { center, lt, rb } = this.bounds\n      const { x, y } = center\n      const w = pointsDistance(lt, rb)\n      return {\n        left: `${x - w / 2}px`,\n        top: `${y - w / 2}px`,\n        width: `${w}px`,\n        height: `${w}px`\n      }\n    },\n\n    showResizeGuide() {\n      return this.fixedRatio\n        && this.adjustType\n        && this.adjustType !== 'rotate'\n    },\n\n    resizeGuideStyle() {\n      if (!this.showResizeGuide) {\n        return {}\n      }\n      let p0, p1\n      const t = this.adjustType\n      const e = this.bounds\n      if (t === 'lt' || t === 'rb') {\n        [p0, p1] = [e.lt, e.rb]\n      } else if (t === 'rt' || t === 'lb') {\n        [p0, p1] = [e.rt, e.lb]\n      } else if (t === 'cb' || t === 'ct') {\n        [p0, p1] = [e.cb, e.ct]\n      } else {\n        [p0, p1] = [e.lm, e.rm]\n      }\n      const height = 2000\n      const center = centerPoint(p0, p1)\n      const r = lineDegrees(p0, p1)\n      return {\n        left: `${center.x}px`,\n        top: `${center.y - height / 2}px`,\n        height: `${height}px`,\n        transform: `rotate(${r}deg)`\n      }\n    },\n\n    internalStyle() {\n      const { x, y, w, h, r, animation } = this.rect\n      const s = {\n        left: `${x}px`,\n        top: `${y}px`,\n        width: `${w}px`,\n        height: `${h}px`,\n        transform: `rotate(${r}deg)`\n      }\n      if (animation) {\n        s['transition'] = 'all .5s'\n      } else {\n        s['transition'] = 'none'\n      }\n      return s\n    },\n\n    showHandlers() {\n      if (this.isAdjusting && this.adjustType === 'move') {\n        return false\n      }\n      return true\n    }\n  },\n  \n  methods: {\n    computeMousePosition(e) {\n      const { pageX, pageY } = e\n      return {\n        x: pageX,\n        y: pageY\n      }\n    },\n\n    onMouseDown(e, type) {\n      this.adjustType = e.metaKey ? 'rotate' : type\n      this.mouseStart = this.computeMousePosition(e)\n      this.rectStart = roughlyToPlain(this.rect)\n      this.fixedRatio = e.shiftKey\n\n      document.addEventListener('mousemove', this.onMouseMove)\n      document.addEventListener('mouseup', this.onMouseUp)\n    },\n\n    onMouseMove(e) {\n    this.mouseEnd = this.computeMousePosition(e)\n    const [x, y] = ['x', 'y'].map(t => Math.abs(this.mouseEnd[t] - this.mouseStart[t]))\n      if (x > 2 || y > 2) {\n        this.isAdjusting = true\n        this.setDocumentCursor(this.mouseEnd)\n        const rectEnd = rotateResize(\n          this.adjustType,\n          this.mouseStart,\n          this.mouseEnd,\n          this.rectStart,\n          this.fixedRatio\n        )\n        this.$emit('transformed', rectEnd)\n      }\n    },\n\n    onMouseUp() {\n      this.adjustType = null\n      this.bodyCursor = 'auto'\n      this.$emit('record')\n      document.removeEventListener('mousemove', this.onMouseMove)\n      document.removeEventListener('mouseup', this.onMouseUp)\n    },\n\n    setDocumentCursor(point, tolerate = true) {\n      if (this.adjustType === 'move') {\n        return this.bodyCursor = 'move'\n      }\n      if (this.adjustType === 'rotate') {\n        return this.bodyCursor = '-webkit-grab'\n      }\n      const { center } = this.bounds\n      const vector = {\n        x: (point.x || 0) - center.x,\n        y: (point.y || 0) - center.y\n      }\n      const degrees = angleDegrees(vector)\n      const toleratance = tolerate ? 10 : 0\n      switch (true) {\n      case degrees <= -180 + toleratance:\n        return this.bodyCursor = 'ew-resize'\n      case degrees < -90 - toleratance:\n        return this.bodyCursor = 'nwse-resize'\n      case degrees <= -90 + toleratance:\n        return this.bodyCursor = 'ns-resize'\n      case degrees < 0 - toleratance:\n        return this.bodyCursor = 'nesw-resize'\n      case degrees <= 0 + toleratance:\n        return this.bodyCursor = 'ew-resize'\n      case degrees < 90 - toleratance:\n        return this.bodyCursor = 'nwse-resize'\n      case degrees <= 90 + toleratance:\n        return this.bodyCursor = 'ns-resize'\n      case degrees < 180 - toleratance:\n        return this.bodyCursor = 'nesw-resize'\n      case degrees <= 180 + toleratance:\n        return this.bodyCursor = 'ew-resize'\n      }\n    },\n    preventDrag(e) {\n      e.stopPropagation()\n      e.preventDefault()\n    }\n  },\n\n  mounted() {\n    document.addEventListener('drag', this.preventDrag)\n    document.addEventListener('dragstart', this.preventDrag)\n  },\n\n  beforeDestroy() {\n    document.removeEventListener('drag', this.preventDrag)\n    document.removeEventListener('dragstart', this.preventDrag)\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.controller {\n  .internal {\n    border: 1px solid var(--control-color);\n  }\n  .handler {\n    display: block;\n    width: 7px;\n    height: 7px;\n    border-radius: 50%;\n    border: 1px solid var(--control-color);\n    margin-left: -4px;\n    margin-top: -4px;\n    background: white;\n    &.rotate {\n      left: 50%;\n      top: -15px;\n      &::after {\n        content: '';\n        display: block;\n        position: absolute;\n        top: 7px;\n        border-left: 1px solid var(--control-color);\n        height: 10px;\n        left: 3px;\n      }\n    }\n    &.l {\n      left: 0;\n    }\n    &.c {\n      left: 50%;\n    }\n    &.r {\n      left: 100%;\n    }\n    &.t {\n      top: 0;\n    }\n    &.m {\n      top: 50%;\n    }\n    &.b {\n      top: 100%;\n    }\n  }\n  .external {\n    display: none;\n  }\n  .rotate-guide {\n    pointer-events: none;\n    border-radius: 50%;\n    border: 1px dashed var(--control-color);\n  }\n  .resize-guide {\n    pointer-events: none;\n    width: 0;\n    border-left: 1px dashed var(--control-color);\n    height: 2000px;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controller.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controller.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Controller.vue?vue&type=template&id=1a42136c&scoped=true&\"\nimport script from \"./Controller.vue?vue&type=script&lang=js&\"\nexport * from \"./Controller.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Controller.vue?vue&type=style&index=0&id=1a42136c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1a42136c\",\n  null\n  \n)\n\ncomponent.options.__file = \"Controller.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"history\"},[_c('h4',[_vm._v(\"History\")]),_c('div',{staticClass:\"actions\"},[_c('div',{staticClass:\"action undo\",class:{valid: _vm.history.canUndo},on:{\"click\":function($event){_vm.execute('undo')}}},[_vm._v(\"Undo\")]),_c('div',{staticClass:\"action redo\",class:{valid: _vm.history.canRedo},on:{\"click\":function($event){_vm.execute('redo')}}},[_vm._v(\"Redo\")]),_c('div',{staticClass:\"action clear\",class:{valid: _vm.history.canClear},on:{\"click\":function($event){_vm.execute('clear')}}},[_vm._v(\"Clear\")])]),(_vm.displaySnapshots.length)?_c('transition-group',{attrs:{\"name\":\"flip-list\",\"tag\":\"ul\"}},[_c('li',{key:\"special-newest\",staticClass:\"special\"},[_vm._v(\"NEWEST\")]),_vm._l((_vm.displaySnapshots),function(item){return _c('li',{key:item.snapshot.uuid,class:{current: item.index === _vm.history.cursor},on:{\"click\":function($event){_vm.moveCursor(item.index)}}},_vm._l((_vm.keys),function(key){return _c('div',{key:key,staticClass:\"key\"},[_c('div',{staticClass:\"result\"},[_vm._v(_vm._s(_vm._f(\"numberBeautify\")(item.snapshot[key])))]),_c('div',{staticClass:\"tag\"},[_vm._v(_vm._s(key.toUpperCase()))])])}))}),_c('li',{key:\"special-oldest\",staticClass:\"special\"},[_vm._v(\"OLDEST\")])],2):_c('div',{staticClass:\"empty\"},[_vm._v(\"empty snapshots\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"history\">\n    <h4>History</h4>\n    <div class=\"actions\">\n      <div class=\"action undo\" @click=\"execute('undo')\" :class=\"{valid: history.canUndo}\">Undo</div>\n      <div class=\"action redo\" @click=\"execute('redo')\" :class=\"{valid: history.canRedo}\">Redo</div>\n      <div class=\"action clear\" @click=\"execute('clear')\" :class=\"{valid: history.canClear}\">Clear</div>\n    </div>\n    <transition-group name=\"flip-list\" tag=\"ul\" v-if=\"displaySnapshots.length\">\n      <li class=\"special\" key=\"special-newest\">NEWEST</li>\n      <li\n        v-for=\"item in displaySnapshots\"\n        :key=\"item.snapshot.uuid\"\n        :class=\"{current: item.index === history.cursor}\"\n        @click=\"moveCursor(item.index)\"\n      >\n        <div class=\"key\" v-for=\"key in keys\" :key=\"key\">\n          <div class=\"result\">{{ item.snapshot[key] |  numberBeautify}}</div>\n          <div class=\"tag\">{{ key.toUpperCase() }}</div>\n        </div>\n      </li>\n      <li class=\"special\" key=\"special-oldest\">OLDEST</li>\n    </transition-group>\n    <div class=\"empty\" v-else>empty snapshots</div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    history: Object,\n  },\n\n  computed: {\n    displaySnapshots() {\n      return this.history.snapshots.map((snapshot, index) => ({\n        snapshot,\n        index,\n      })).reverse()\n    }\n  },\n\n  data() {\n    return {\n      keys: ['x', 'y', 'w', 'h', 'r'],\n      snapshot: {\n        x: 0,\n        y: 0,\n        w: 0,\n        h: 0,\n        r: 0,\n      }\n    }\n  },\n\n  methods: {\n    execute(cmd) {\n      this.$emit('command', cmd)\n    },\n    moveCursor(cursor) {\n      this.$emit('cursor', cursor)\n    },\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.flip-list-move {\n  transition: transform 1s;\n}\n.flip-list-enter, .flip-list-leave-to {\n  opacity: 0;\n  transform: translateX(-30px);\n}\n.history {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  .actions {\n    height: 35px;\n    display: flex;\n    justify-content: space-between;\n    .action {\n      flex: 1;\n      color: #aaa;\n      margin-bottom: 20px;\n      text-align: center;\n      cursor: not-allowed;\n      &.valid {\n        cursor: pointer;\n        color: green;\n        font-weight: bold;\n      }\n    }\n  }\n  h4 {\n    height: 23px;\n  }\n  ul {\n    flex: 1;\n    list-style: none;\n    overflow: auto;\n    padding-bottom: 40px;\n  }\n  li {\n    transition: all 1s;\n  }\n  li:not(.special) {\n    display: flex;\n    margin: 10px 0;\n    margin-left: 20px;\n    position: relative;\n    border: 1px solid transparent;\n    cursor: pointer;\n    &::after {\n      position: absolute;\n      content: '';\n      display: block;\n      left: -20px;\n      top: 50%;\n      width: 10px;\n      height: 10px;\n      margin-top: -5px;\n      background: #eee;\n      border-radius: 50%;\n      transition: background .5s;\n    }\n    &.current::after {\n      background: green;\n    }\n    &:hover {\n      border: 1px solid rgba(0, 200, 0, 0.5);\n    }\n  }\n  li.special {\n    font-size: 20px;\n    opacity: 0.1;\n  }\n  .key {\n    flex: 1;\n    &:nth-child(odd) {\n      background: #efefef;\n    }\n  }\n  .result {\n    text-align: center;\n  }\n  .tag {\n    text-align: center;\n    opacity: 0.6;\n  }\n  .empty {\n    opacity: 0.6;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./History.vue?vue&type=template&id=0bfb47b6&scoped=true&\"\nimport script from \"./History.vue?vue&type=script&lang=js&\"\nexport * from \"./History.vue?vue&type=script&lang=js&\"\nimport style0 from \"./History.vue?vue&type=style&index=0&id=0bfb47b6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0bfb47b6\",\n  null\n  \n)\n\ncomponent.options.__file = \"History.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"info\"},[_c('h4',[_vm._v(\"Rectangle\")]),_c('ul',_vm._l((_vm.displayKeys),function(field){return _c('li',{key:field},[_c('label',[_vm._v(_vm._s(field.toUpperCase()))]),_c('div',{class:field},[_c('input',{attrs:{\"type\":\"number\"},domProps:{\"value\":_vm._f(\"numberBeautify\")(_vm.rect[field])},on:{\"change\":function($event){_vm.onValueChange(field, $event)},\"input\":function($event){_vm.onValueChange(field, $event)}}})])])}))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"info\">\n    <h4>Rectangle</h4>\n    <ul>\n      <li v-for=\"field in displayKeys\" :key=\"field\">\n        <label>{{ field.toUpperCase() }}</label>\n        <div :class=\"field\">\n          <input\n            type=\"number\" \n            :value=\"rect[field] | numberBeautify\" \n            @change=\"onValueChange(field, $event)\"\n            @input=\"onValueChange(field, $event)\"\n          >\n        </div>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n  props:{\n    rect: Object\n  },\n\n  computed: {\n    displayKeys() {\n      /* eslint-disable */\n      const { animation, ...rest } = this.rect\n      return Object.keys(rest)\n    }\n  },\n\n  methods: {\n    onValueChange(field, e) {\n      let value = Number(e.target.value)\n      if (field === 'r') {\n        value = value > 180 ? 180 : (value < -180 ? -180 : value)\n      } else {\n        value = value < 0 ? 0 : value\n      }\n      this.$emit('transformed', {[field]: value})\n      this.$nextTick(() => {\n        this.$emit('record')\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.info {\n  height: 280px;\n  ul {\n    list-style: none;\n    background: #fff;\n    font-family: monospace;\n  }\n  li {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    border-top: 1px solid var(--info-bd-color);\n    padding: 10px;\n    &:last-child {\n      border-bottom: 1px solid var(--info-bd-color);\n    }\n    label {\n      width: 30px;\n      text-align: center;\n      font-size: 0.8em;\n      font-weight: bold;\n    }\n    div {\n      padding-left: 10px;\n      position: relative;\n      &::after {\n        content: 'PX';\n        display: block;\n        position: absolute;\n        right: 12px;\n        top: 0;\n        color: #bbb;\n      }\n      &.r::after {\n        content: 'DEG'\n      }\n    }\n    input {\n      width: 120px;\n      outline: none;\n      border: 0;\n      background: transparent;\n      font-size: 14px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Info.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Info.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Info.vue?vue&type=template&id=29fc4e25&scoped=true&\"\nimport script from \"./Info.vue?vue&type=script&lang=js&\"\nexport * from \"./Info.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Info.vue?vue&type=style&index=0&id=29fc4e25&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29fc4e25\",\n  null\n  \n)\n\ncomponent.options.__file = \"Info.vue\"\nexport default component.exports","const fakeUUID = () => `${+new Date()}${Math.random()}`\n\nclass History {\n  constructor(maxSnapshots = 20) {\n    this.maxSnapshots = maxSnapshots\n    this.snapshots = []\n    this.cursor = -1\n  }\n\n  get canUndo() {\n    return this.cursor > 0\n  }\n\n  get canClear() {\n    return this.snapshots.length\n  }\n\n  get canRedo() {\n    return this.snapshots.length > this.cursor + 1\n  }\n\n  record(snapshot) {\n    if (this.checkRepeat(snapshot)) {\n      return false\n    }\n    while (this.cursor < this.snapshots.length - 1) {\n      this.snapshots.pop()\n    }\n\n    // 生成唯一的 id，确保在列表渲染时不会重用 DOM\n    // 这样生成的动画更好的表现新旧历史记录的替换\n    snapshot.uuid = fakeUUID()\n    this.snapshots.push(snapshot)\n    // 确保历史记录条数限制\n    if (this.snapshots.length > this.maxSnapshots) {\n      this.snapshots.shift()\n    }\n    this.cursor = this.snapshots.length - 1\n  }\n\n  undo() {\n    if (this.canUndo) {\n      this.cursor -= 1\n      return this.snapshots[this.cursor]\n    }\n    return null\n  }\n\n  redo() {\n    if (this.canRedo) {\n      this.cursor += 1\n      return this.snapshots[this.cursor]\n    }\n    return null\n  }\n\n  move(cursor) {\n    if (this.snapshots.length > cursor) {\n      this.cursor = cursor\n      return this.snapshots[this.cursor]\n    }\n  }\n\n  clear() {\n    this.cursor = -1\n    this.snapshots = []\n  }\n\n  checkRepeat(snapshot) {\n    const next = snapshot\n    let prev\n    if (this.cursor >= 0) {\n      prev = this.snapshots[this.cursor]\n    } else {\n      prev = ''\n    }\n    // 如果更复杂的对象建议使用 deep equal 库\n    if (typeof prev !== 'object' || typeof next !== 'object') {\n      return false\n    }\n    let diffFound = false\n    ;['x', 'y', 'w', 'h', 'r'].find(k => {\n      diffFound = prev[k] !== next[k]\n      return diffFound\n    })\n    return !diffFound\n  }\n}\n\nexport default History\n","<template>\n  <div class=\"content\">\n    <Controller :rect=\"rect\" @transformed=\"onTransformed\" @record=\"record\"/>\n    <div class=\"side-panel absolute\">\n      <Info :rect=\"rect\" @transformed=\"onTransformed\" @record=\"record\"/>\n      <History :history=\"history\" @command=\"execute\" @cursor=\"moveCursor\"/>\n    </div>\n    <div class=\"ctrl-guide\">\n      <p>Mousedown any control points to resize or rotate.</p>\n      <p>To resize with fixed ratio, hold <kbd>Shift</kbd> key.</p>\n      <p><a href=\"https://github.com/ioslh/undo-redo\" target=\"_blank\">https://github.com/ioslh/undo-redo</a></p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Controller from './components/Controller.vue'\nimport History from './components/History.vue'\nimport Info from './components/Info.vue'\nimport HistoryStack from './components/History.js'\nimport { roughlyToPlain } from './components/utils'\n\nexport default {\n  name: 'app',\n\n  components: {\n    Controller,\n    History,\n    Info,\n  },\n\n  data() {\n    return {\n      history: new HistoryStack(20),\n      rect: {\n        x: 100,\n        y: 100,\n        w: 100,\n        h: 100,\n        r: 0,\n        animation: false,\n      }\n    }\n  },\n\n  mounted() {\n    this.record()\n  },\n\n  methods: {\n    onTransformed(rectEnd, animation = false) {\n      const rect = {}\n      const keys = ['x', 'y', 'w', 'h', 'r']\n      keys.forEach(key => {\n        if (key in rectEnd) {\n          rect[key] = rectEnd[key]\n        }\n      })\n      rect.animation = animation\n      this.rect = rect\n    },\n\n    record() {\n      this.history.record(roughlyToPlain(this.rect))\n    },\n\n    execute(cmd) {\n      let snapshot = null\n      switch(cmd) {\n        case 'undo':\n          snapshot = this.history.undo()\n          break\n        case 'redo':\n          snapshot = this.history.redo()\n          break\n        case 'clear':\n          this.history.clear()\n          break\n        default:\n          // pass\n      }\n      if (snapshot) {\n        this.onTransformed(snapshot, true)\n      }\n    },\n\n    moveCursor(cursor) {\n      const snapshot = this.history.move(cursor)\n      if (snapshot) {\n        this.onTransformed(snapshot, true)\n      }\n    }\n  }\n}\n</script>\n\n<style>\n:root {\n  --control-color: #5188f1;\n  --info-bd-color: #eee;\n  --grid-color: rgba(0, 0, 0, 0.05);\n}\n* {\n  margin: 0;\n  padding: 0;\n  font-family: monospace;\n}\n:not(input) {\n  user-select: none;\n}\n.content {\n  width: 100vw;\n  height: 100vh;\n  overflow: hidden;\n  position: relative;\n  background-image: repeating-linear-gradient(\n    180deg,\n    transparent,\n    transparent 9px,\n    var(--grid-color) 9px,\n    var(--grid-color) 10px\n  ),\n  repeating-linear-gradient(\n    90deg,\n    transparent,\n    transparent 9px,\n    var(--grid-color) 9px,\n    var(--grid-color) 10px\n  );\n}\n.absolute {\n  position: absolute;\n}\n\n.side-panel {\n  height: 100vh;\n  width: 280px;\n  right: 0;\n  padding: 10px;\n  display: flex;\n  flex-direction: column;\n  background: #fff;\n  border-left: 1px solid #aaa;\n}\nh4 {\n  margin-bottom: 20px;\n  font-size: 20px;\n}\n.ctrl-guide {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  padding: 10px;\n}\nkbd {\n  background-color: rgb(238, 238, 238);\n  border-radius: 3px;\n  border: 1px solid rgb(180, 180, 180);\n  box-shadow: 0 1px 1px rgba(0,0,0,.2), 0 2px 0 0 rgba(255,255,255,.7) inset;\n  color: rgb(51, 51, 51);\n  display: inline-block;\n  font-family: consolas,\"Liberation Mono\",courier,monospace;\n  font-size: .85em;\n  font-weight: 700;\n  line-height: 1;\n  padding: 2px 4px;\n  white-space: nowrap;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=1095f790&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nVue.filter('numberBeautify', value => {\n  const str = String(value)\n  if (str.includes('.')) {\n    return value.toFixed(2)\n  } else {\n    return Number.parseInt(value, 10)\n  }\n})\n\nnew Vue({\n  render: h => h(App)\n}).$mount('#app')\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=style&index=0&id=0bfb47b6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=style&index=0&id=0bfb47b6&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Info.vue?vue&type=style&index=0&id=29fc4e25&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Info.vue?vue&type=style&index=0&id=29fc4e25&lang=scss&scoped=true&\""],"sourceRoot":""}